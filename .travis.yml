---
sudo: required
language: python
services:
  - docker
matrix:
  fast_finish: true
  include:
    - env: ROLE=fzf
    - env: ROLE=git
    - env: ROLE=go
    - env: ROLE=hub
    - env: ROLE=nvm
    - env: ROLE=packages-system
    - env: ROLE=tmux
    - env: ROLE=vim
    - env: ROLE=zsh
  allow_failures:
    - env: ROLE=zsh
before_install:
  - if ./check-role-changed.sh; then echo "$ROLE changed - testing"; else echo "$ROLE not changed - exiting" && travis_terminate 0; fi
  - sudo apt-get -qq update
  - pip install pipenv
install:
  - pipenv sync --dev
script:
  - make shellcheck
  - make test
